<?php
/**
 * @author       bangujo ON 2021-04-17 09:10
 * @project      elolara
 * @ide          PhpStorm
 * @originalFile ElolaraServiceProvider.php
 */

namespace Angujo\Lareloquent\Laravel;


use Illuminate\Foundation\Application;
use Angujo\Lareloquent\Laravel\Factory as LarEloq;
use Illuminate\Support\ServiceProvider;

/**
 * Class ElolaraServiceProvider
 *
 * @package Angujo\Elolara\Laravel
 */
class LarEloquentServiceProvider extends ServiceProvider
{
    public function register()
    {
        parent::register(); // TODO: Change the autogenerated stub
        $this->app->singleton(LarEloq::class, function(){
            return new LarEloq();
        });
    }

    public function boot()
    {
        if ($this->app->runningInConsole()) {
            $this->commands([ModelCommand::class]);
        }
        $this->publishes([__DIR__.DIRECTORY_SEPARATOR.'config.php' => config_path(LM_APP_NAME.'.php')]);
    }
}